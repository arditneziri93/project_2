<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz-App</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="header">
      <h1 class="header__title">Quiz-App</h1>
    </header>
    <main>
      <form class="form" action="#">
        <h2 class="card__question">Add a new question</h2>
        <label for="question">*Your question:</label>
        <textarea type="text" id="question" name="question" maxlength="150" placeholder="What is ..."></textarea>
        <label for="answer">*Your answer:</label>
        <textarea type="text" id="answer" name="answer" maxlength="150" placeholder="The answer is ..."" /></textarea>
        <label for="tag">Tags: </label>
        <input type="text" id="tags" name="tags" placeholder="e.g. math, science, history"/>
        <button type="submit">Submit</button> 
      </form>
    </main>
    <script type="module">
      import { appendBottomNavigation } from './script/create_bottom_navigation.js';
      import { addQuestion } from './script/questions_db.js';
    
      appendBottomNavigation();
      const container = document.querySelector(".card-list");

      const form = document.querySelector(".form");
    

      form.addEventListener("submit", (event) => {
        console.log("submit");
        event.preventDefault();
        let question = {
          question: document.querySelector("#question").value,
          answer: document.querySelector("#answer").value,
          tags: document.querySelector("#tags").value.split(","),
        }
        if(question.question === "" || question.answer === "" || question.tags.length === 0){
          alert("Please fill out all fields");
          return;
        }
        addQuestion(question);
      });

    </script>
  </body>
</html>
